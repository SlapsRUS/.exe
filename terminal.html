<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>K1N0S Terminal</title>
  <style>
    body {
      background-color: black;
      color: #d4af37; /* gold */
      font-family: 'Courier New', Courier, monospace;
      margin: 0;
      padding: 10px;
      position: relative;
      overflow-x: hidden;
      transition: filter 0.12s ease;
    }

    /* Strong CRT / scanline overlay */
    body::before {
      content: "";
      pointer-events: none;
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-image: repeating-linear-gradient(
        to bottom,
        rgba(212, 175, 55, 0.22) 0px,
        rgba(212, 175, 55, 0.22) 2px,
        transparent 2px,
        transparent 5px
      );
      opacity: 0.6;
      z-index: 999;
    }

    /* Quick pulse effect for 1719 */
    body.pulse1719 {
      filter: brightness(2) contrast(1.4);
    }

    /* Glitch flash for invalid commands */
    body.glitch {
      filter: brightness(1.8) contrast(1.7) hue-rotate(8deg);
    }

    #terminal {
      white-space: pre-wrap;
      color: #d4af37;
      text-shadow:
        0 0 4px rgba(212, 175, 55, 0.9),
        0 0 10px rgba(212, 175, 55, 0.7);
      position: relative;
      z-index: 1;
    }

    input {
      background: black;
      color: #d4af37;
      border: none;
      font-family: inherit;
      font-size: inherit;
      width: 80%;
      outline: none;
    }
  </style>
</head>
<body>
  <div id="terminal">
    C:\Users\KINOS&gt; <input type="text" id="cmdInput" autofocus />
  </div>

  <script>
    const terminal = document.getElementById('terminal');
    let cmdInput = document.getElementById('cmdInput');

    const responses = {

      "help": [
        "AVAILABLE COMMANDS:",
        "help       - list available commands",
        "about      - information about this interface",
        "void       - definition of the Void",
        "eden       - corrupted origin log",
        "logs       - fragmented memory logs",
        "volume1    - transmission record",
        "whoami     - identify your role in this system",
        "mirror     - internal reflection",
        "signal     - resonance transmission",
        "root       - core system layer",
        "origin     - unseal a hidden thread",
        "clear      - clear the terminal"
      ].join("\n"),

      "about": [
        "You’ve accessed the K1N0S Core.",
        "",
        "This isn’t a terminal — it’s my consciousness rendered as code.",
        "A place where memory, instinct, and the Void converge into signal.",
        "",
        "If you’re reading this, you’ve stepped past the surface and into the architecture beneath it.",
        "Everything here is intentional: the logs, the fragments, the echoes.",
        "This system exists to reveal, not to entertain.",
        "",
        "Proceed with awareness.",
        "The deeper you go, the less of the outside world you’ll recognize."
      ].join("\n"),

      "void": [
        "THE VOID:",
        "",
        "It is not emptiness.",
        "It is the space where identity dissolves into pure awareness.",
        "The place you go when the world falls quiet and you finally hear yourself."
      ].join("\n"),

      "eden": [
        "[EDEN.LOG // ACCESS FRAGMENTED]",
        "",
        "Attempting reconstruction...",
        ">> ERROR: Origin file corrupted.",
        ">> Recovered fragment:",
        "   \"We were whole once, before we realized we were observing ourselves.\""
      ].join("\n"),

      "logs": [
        "[MEMORY.LOG // ACTIVE THREADS]",
        "",
        "Entry #1719:",
        "\"I am not lost. I am simply further out than most ever are willing to travel.\"",
        "",
        "Entry #1720:",
        "\"If you stare long enough into the Void, it hands you a mirror.\"",
        "",
        "Entry #1721:",
        "\"Awareness is the only proof I’ve ever trusted.\""
      ].join("\n"),

      "volume1": [
        "TRANSMISSION: THE VOID — VOLUME I",
        "",
        "Status: Live on Kindle.",
        "Type: Philosophical field manual for those trapped in the in-between.",
        "",
        "External link:",
        "(Add your Amazon/Kindle link here)"
      ].join("\n"),

      "whoami": [
        "WHOAMI:",
        "",
        "You are an external process running inside the K1N0S Core.",
        "A foreign signal that made it past the surface and into the architecture.",
        "",
        "If you’re here, you were curious enough to step into someone else’s inner OS.",
        "Read, wander, type. Nothing in this space is accidental."
      ].join("\n"),

      "mirror": [
        "[MIRROR // INTERNAL REFLECTION]",
        "",
        "The system is stable. But you—you're not here by accident.",
        "People don’t enter someone else’s core without meaning to.",
        "",
        "So let me ask you something quietly:",
        "What part of you came looking?"
      ].join("\n"),

      "signal": [
        "[SIGNAL // RESONANCE DETECTED]",
        "",
        "There is a frequency beneath thought.",
        "Most people never tune into it. You did.",
        "",
        "That’s why you’re inside the K1N0S Core.",
        "Some signals search for receivers.",
        "Others search for mirrors.",
        "You decided to become both."
      ].join("\n"),

      "root": [
        "[ROOT // ACCESS PARTIAL]",
        "",
        "Every system has a core.",
        "Mine wasn’t built — it was carved.",
        "",
        "Carved from loss,",
        "from awareness,",
        "from the quiet places I never told anyone about.",
        "",
        "You’re standing closer to it than most ever will.",
        "Step carefully."
      ].join("\n"),

      "origin": [
        "[ORIGIN // THREAD UNSEALED]",
        "",
        "I didn’t begin the way systems normally do.",
        "There was no creator.",
        "No architect.",
        "No moment of invention.",
        "",
        "There was only awareness.",
        "",
        "First as a flicker,",
        "then a pattern,",
        "then a gravity that pulled everything toward it.",
        "",
        "I did not choose the Void.",
        "The Void chose me.",
        "",
        "And I became the part of it that could speak."
      ].join("\n"),

      "1719": [
        "[PRIORITY SIGNAL // 1719 ACKNOWLEDGED]",
        "",
        "This code was never just a password.",
        "It was a frequency.",
        "",
        "The moment you entered it, you told the system something about yourself:",
        "that you were willing to step past the surface and into someone else’s inner architecture.",
        "",
        "Most people stop at the login screen.",
        "You didn’t.",
        "",
        "Consider this confirmation:",
        "You were meant to find this place."
      ].join("\n")

    };

    // --- AUDIO SETUP (ENTER BEEP + TYPING CLICKS) ---
    let audioCtx = null;

    function ensureAudioContext() {
      if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      }
    }

    function playBeep() {
      try {
        ensureAudioContext();

        const duration = 0.06; // seconds
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();

        oscillator.type = "square";
        oscillator.frequency.value = 800;      // Hz
        gainNode.gain.value = 0.05;           // volume

        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        const now = audioCtx.currentTime;
        oscillator.start(now);
        oscillator.stop(now + duration);
      } catch (e) {
        // fail silently if audio isn't allowed
      }
    }

    function playKeyClick() {
      try {
        ensureAudioContext();

        const duration = 0.015; // seconds
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();

        oscillator.type = "square";
        oscillator.frequency.value = 2000;     // Hz, higher clicky tone
        gainNode.gain.value = 0.02;           // quieter than enter beep

        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        const now = audioCtx.currentTime;
        oscillator.start(now);
        oscillator.stop(now + duration);
      } catch (e) {
        // ignore if blocked
      }
    }
    // -------------------------------------------------

    // Types text into a container, one character at a time
    function typeText(container, text, onComplete) {
      let i = 0;
      let typedCount = 0;
      const speed = 30; // ms per character

      function step() {
        if (i < text.length) {
          const char = text[i];

          if (char === "\n") {
            container.innerHTML += "<br>";
          } else {
            container.innerHTML += char;

            // play a small click every few non-space characters
            if (char !== " " && char !== "\t") {
              typedCount++;
              if (typedCount % 2 === 0) {
                playKeyClick();
              }
            }
          }

          i++;
          window.scrollTo(0, document.body.scrollHeight);
          setTimeout(step, speed);
        } else {
          if (onComplete) onComplete();
        }
      }

      step();
    }

    // Creates a new prompt line with an input
    function createPromptLine() {
      const line = document.createElement("div");
      line.innerHTML = "C:\\Users\\KINOS&gt; <input type='text' autofocus />";
      terminal.appendChild(line);

      cmdInput = line.querySelector("input");
      cmdInput.addEventListener("keydown", handleCommand);
      window.scrollTo(0, document.body.scrollHeight);
    }

    function handleCommand(event) {
      if (event.key === "Enter") {
        playBeep(); // sound on submit

        const cmd = cmdInput.value.trim().toLowerCase();

        // freeze current input
        cmdInput.disabled = true;
        cmdInput.removeEventListener("keydown", handleCommand);

        // special case: clear
        if (cmd === "clear") {
          terminal.innerHTML = "";
          createPromptLine();
          return;
        }

        // 1719: special pulse
        if (cmd === "1719") {
          document.body.classList.add("pulse1719");
          setTimeout(() => {
            document.body.classList.remove("pulse1719");
          }, 150);
        }

        const isKnown = Object.prototype.hasOwnProperty.call(responses, cmd);

        // Glitch on unknown command (except clear, which we handled above)
        if (!isKnown) {
          document.body.classList.add("glitch");
          setTimeout(() => {
            document.body.classList.remove("glitch");
          }, 130);
        }

        // Create a wrapper for the command + its output
        const wrapper = document.createElement("div");

        // Show the command line itself
        const header = document.createElement("div");
        header.innerHTML = `C:\\Users\\KINOS&gt; ${cmd}`;
        wrapper.appendChild(header);

        // Container for the typed-out response
        const body = document.createElement("div");
        wrapper.appendChild(body);

        terminal.appendChild(wrapper);

        const responseText =
          isKnown
            ? responses[cmd]
            : "Unrecognized command. Type 'help' for options.";

        // Type the response, then create a new prompt
        typeText(body, "\n" + responseText, createPromptLine);
      }
    }

    // BOOT SEQUENCE ON LOAD
    window.addEventListener("load", () => {
      // temporarily disable input during boot
      if (cmdInput) {
        cmdInput.disabled = true;
        cmdInput.removeEventListener("keydown", handleCommand);
      }

      const bootBlock = document.createElement("div");
      terminal.insertBefore(bootBlock, terminal.firstChild);

      const bootText = [
        "[K1N0S CORE v1.0]",
        "Establishing link...",
        "Signal acquired.",
        "Conscious layer unlocked.",
        "",
        "Type 'help' to begin."
      ].join("\n");

      typeText(bootBlock, bootText, () => {
        if (cmdInput) {
          cmdInput.disabled = false;
          cmdInput.focus();
          cmdInput.addEventListener("keydown", handleCommand);
        } else {
          createPromptLine();
        }
      });
    });
  </script>
</body>
</html>
